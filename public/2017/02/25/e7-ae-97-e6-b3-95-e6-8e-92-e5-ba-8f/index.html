<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>[算法] - 排序 | 赤晨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="js实现了一下几种基于比较的排序（常数时间的排序还没看！阿西吧！）
插排和冒泡平均时间复杂度o(n^2)，最优o(n)，前两种稳定。选择都是n^2不稳定。
提一下冒泡，一直以为它最坏最好都是n^2复杂度，不过写的时候发现每次冒泡可以检查本次是否交换过元素，如果没有直接退出，最优情况排好序的数组，一趟遍历退出。
通常小数据量选择和插排比较快。基本排好序，小数据量用插排.
1. 直接插入
[codes">
<meta property="og:type" content="article">
<meta property="og:title" content="[算法] - 排序">
<meta property="og:url" content="http://yoursite.com/2017/02/25/e7-ae-97-e6-b3-95-e6-8e-92-e5-ba-8f/index.html">
<meta property="og:site_name" content="赤晨">
<meta property="og:description" content="js实现了一下几种基于比较的排序（常数时间的排序还没看！阿西吧！）
插排和冒泡平均时间复杂度o(n^2)，最优o(n)，前两种稳定。选择都是n^2不稳定。
提一下冒泡，一直以为它最坏最好都是n^2复杂度，不过写的时候发现每次冒泡可以检查本次是否交换过元素，如果没有直接退出，最优情况排好序的数组，一趟遍历退出。
通常小数据量选择和插排比较快。基本排好序，小数据量用插排.
1. 直接插入
[codes">
<meta property="og:updated_time" content="2017-03-07T08:04:31.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[算法] - 排序">
<meta name="twitter:description" content="js实现了一下几种基于比较的排序（常数时间的排序还没看！阿西吧！）
插排和冒泡平均时间复杂度o(n^2)，最优o(n)，前两种稳定。选择都是n^2不稳定。
提一下冒泡，一直以为它最坏最好都是n^2复杂度，不过写的时候发现每次冒泡可以检查本次是否交换过元素，如果没有直接退出，最优情况排好序的数组，一趟遍历退出。
通常小数据量选择和插排比较快。基本排好序，小数据量用插排.
1. 直接插入
[codes">
  
    <link rel="alternate" href="/atom.xml" title="赤晨" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">赤晨</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">上帝没有给我们想要的，他给我们更好的。</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-e7-ae-97-e6-b3-95-e6-8e-92-e5-ba-8f" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/25/e7-ae-97-e6-b3-95-e6-8e-92-e5-ba-8f/" class="article-date">
  <time datetime="2017-02-25T11:35:25.000Z" itemprop="datePublished">2017-02-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/tech/">学海无涯我游啊游</a>►<a class="article-category-link" href="/categories/tech/algorithm/">数据结构算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      [算法] - 排序
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>js实现了一下几种基于比较的排序（常数时间的排序还没看！阿西吧！）</p>
<p>插排和冒泡平均时间复杂度o(n^2)，最优o(n)，前两种稳定。选择都是n^2不稳定。</p>
<p>提一下冒泡，一直以为它最坏最好都是n^2复杂度，不过写的时候发现每次冒泡可以检查本次是否交换过元素，如果没有直接退出，最优情况排好序的数组，一趟遍历退出。</p>
<p>通常小数据量选择和插排比较快。基本排好序，小数据量用插排.</p>
<p>1. 直接插入</p>
<p>[codesyntax lang=”javascript”]</p>
<p><pre>function insertSort(arr) {<br>    console.time(“insert sort: “);<br>    for (var i = 0; i &lt; arr.length; i++) {<br>      var j = i;<br>      var value = arr[i];<br>      while(j&gt;0 &amp;&amp; value &lt; arr[j-1]) {<br>        arr[j] = arr[j-1];<br>        j–;<br>      }<br>      arr[j] = value;<br>    }<br>    console.timeEnd(“insert sort: “);<br>    return arr;<br>  }</pre><br>[/codesyntax]</p>
<p>&nbsp;</p>
<p>2. 冒泡</p>
<p>[codesyntax lang=”javascript”]</p>
<p><pre>function bubbleSort(arr) {<br>    console.time(“bubble sort: “);<br>    for(var i = 0; i &lt; arr.length; ++i){  //n次遍历<br>      var change = false;<br>      for(var j = arr.length-1; j &gt; i; –j) { //从最后冒泡至i，一次冒泡i最小<br>        if(arr[j] &lt; arr[j-1]) {<br>          var temp = arr[j-1]<br>          arr[j-1] = arr[j];<br>          arr[j] = temp;<br>          change = true;<br>        }<br>      }<br>      if(!change) {<br>        console.timeEnd(“bubble sort: “); //0.074<br>        return arr;<br>      }<br>    }<br>    console.timeEnd(“bubble sort: “); //0.095<br>    return arr;<br>  }</pre><br>[/codesyntax]</p>
<p>&nbsp;</p>
<p>3. 选择</p>
<p>[codesyntax lang=”javascript”]</p>
<p><pre>function selectSort(arr) {<br>    console.time(“select sort: “);<br>    for(var i = 0; i &lt; arr.length-1; ++i) {<br>      var min = i;<br>      for(var j = i; j &lt; arr.length; ++j) {<br>        if(arr[j] &lt; arr[min]) {<br>          min = j;<br>        }<br>      }<br>      var temp = arr[min];<br>      arr[min] = arr[i];<br>      arr[i] = temp;<br>    }<br>    console.timeEnd(“select sort: “);<br>    return arr;<br>  }</pre><br>[/codesyntax]</p>
<p>4. 快排</p>
<p>然后是快排，平均o(nlogn)，最差o(n^2)在原数据正序或逆序时。快排复杂度能到nlogn主要是每次选取pivot可以把元素划分为两段更小元素处理从而实现divide-conquer的目的，但是如果数据正序或逆序，每次划分后子问题规模是n-1就退化成了n^2复杂度。不稳定。</p>
<p>[codesyntax lang=”javascript”]</p>
<p><pre>function qS(arr) {<br>    var partition = function(a, l, h) {<br>      var p = l;<br>      l++;<br>      while(l&lt;h) {<br>        while(l&lt;h &amp;&amp; a[h] &gt; a[p]) {<br>          h–;<br>        }<br>        while(l&lt;h &amp;&amp; a[l] &lt;= a[p]) {<br>          l++;<br>        }<br>        if(l &lt; h) {<br>          var temp = a[l];<br>          a[l] = a[h];<br>          a[h] = temp;<br>          // h–;<br>          // l++; //交换之后继续从当前位置扫<br>        }<br>      }<br>      // console.log(h);<br>      // console.log(l);<br>      var temp = a[p];<br>      a[p] = a[h];<br>      a[h] = temp;<br>      // console.log(a);<br>      return h;<br>    }</pre></p>
<pre><code>var sort = function(a, l, h) {
  if(l&amp;lt;h) {
    var pivot = partition(a, l, h);
    // console.log(pivot);
    sort(a, l, pivot-1);
    sort(a, pivot+1, h);
  }
}

return {sa:arr, sort:sort}
</code></pre><p>  }<br>[/codesyntax]</p>
<p>5. 堆排序</p>
<p>利用大顶堆或小顶堆性质排序，复杂度最优平均都是o(nlogn)，不稳定。核心是构建大顶堆，和每次取元素之后对堆的maxheapify——递归的方法调整堆，使得其满足根大于子节点的特性，注意停止条件。</p>
<p>[codesyntax lang=”php”]</p>
<p><pre>function heapSort(arr) {<br>    function maxHeapify(arr, index, size) {<br>      var max = index;<br>      var left = 2<em>index+1;<br>      var right = 2</em>index+2<br>      if(left &lt; size &amp;&amp; arr[left] &gt; arr[max]) {<br>        max = left;<br>      }<br>      if(right &lt; size &amp;&amp; arr[right] &gt; arr[max]) {<br>        max = right;<br>      }<br>      if(index != max){<br>        swap(arr, index, max);<br>        maxHeapify(arr, max, size);<br>      }<br>    }</pre></p>
<pre><code>function buildHeap(arr) {
  for(var i = Math.floor((arr.length-1)/2); i &amp;gt;= 0; --i) {
    maxHeapify(arr, i, arr.length);
  }
}

function sort(arr) {
  buildHeap(arr);
  for(var i = 0; i &amp;lt; arr.length; ++i) {
    swap(arr, 0, arr.length-i-1);
    //console.log(arr);
    maxHeapify(arr, 0, arr.length-i-1);
  }
  return arr;
}

function swap(arr, a, b) {
  var temp = arr[a];
  arr[a] = arr[b];
  arr[b] = temp;
}

return{arr:arr, sort:sort};
</code></pre><p>  }<br>[/codesyntax]</p>
<p>6. 希尔排序</p>
<p>基于插排的改进，通过调整步长减少元素移动的次数（插排中相当于每次只能移动1位，如果调整2341中1的位置就需要比较3次移动3次）o(nlogn)</p>
<p>[codesyntax lang=”javascript”]</p>
<p><pre>function shellSort(arr) {<br>    var gap = 1;<br>    while(gap &lt; arr.length) {<br>      gap = gap*3 + 1;<br>    }</pre></p>
<pre><code>for(; gap &amp;gt; 0; gap=Math.floor(gap/3)) {
  for(var j = gap; j &amp;lt; arr.length; ++j) {
    var value = arr[j]
    while(j&amp;gt;=0 &amp;amp;&amp;amp; arr[j-gap] &amp;gt; value) {
      arr[j] = arr[j-gap];
      j = j-gap;
    }
    arr[j] = value;
    var value = arr[j];

  }
}

return arr;
</code></pre><p>  }<br>[/codesyntax]</p>
<p>7. 归并排序</p>
<p>典型分治思想，复杂度o(nlogn)，递归，空间需求大。（外排）</p>
<p>[codesyntax lang=”javascript”]</p>
<p><pre>function mergeSort(arr) {<br>    if(arr.length == 1) {<br>      return arr;<br>    }else {<br>      var m = Math.floor(arr.length/2);<br>      return merge(mergeSort(arr.slice(0,m)), mergeSort(arr.slice(m,arr.lenth)));<br>    }<br>  }</pre></p>
<p>  function merge(arr1, arr2) {<br>    var i = 0;<br>    var j = 0;<br>    var result = [];<br>    while(i + j &lt; arr1.length + arr2.length) {<br>      if(arr1[i] &lt;= arr2[j] || j == arr2.length) {<br>        result[i+j] = arr1[i];<br>        i++;<br>      }else if(i &lt; arr1.length || i == arr1.length){<br>        result[i+j] = arr2[j];<br>        j++;<br>      }<br>    }<br>    return result;<br>  }<br>[/codesyntax]</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/02/25/e7-ae-97-e6-b3-95-e6-8e-92-e5-ba-8f/" data-id="cizz8lgc5000mtcsywgma7vx8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/03/02/e5-8f-af-e6-80-9c-e5-a4-9c-e5-8d-8a-e8-99-9a-e5-89-8d-e5-b8-ad/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          可怜夜半虚前席
        
      </div>
    </a>
  
  
    <a href="/2017/02/25/e7-ae-97-e6-b3-95-e3-80-91-kmp/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">[算法]- kmp</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/tech/">学海无涯我游啊游</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/tech/htmlcss/">HTML/css（HTML5/css3)</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/js/">Javascript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/interview/">去特么的面试题</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tech/algorithm/">数据结构算法</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/st/">短逼逼</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/lt/">长叨叨</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/03/02/e5-8f-af-e6-80-9c-e5-a4-9c-e5-8d-8a-e8-99-9a-e5-89-8d-e5-b8-ad/">可怜夜半虚前席</a>
          </li>
        
          <li>
            <a href="/2017/02/25/e7-ae-97-e6-b3-95-e6-8e-92-e5-ba-8f/">[算法] - 排序</a>
          </li>
        
          <li>
            <a href="/2017/02/25/e7-ae-97-e6-b3-95-e3-80-91-kmp/">[算法]- kmp</a>
          </li>
        
          <li>
            <a href="/2017/02/20/bootstrap-e5-9f-ba-e7-a1-80-2/">[Bootstrap] - 基础 - 2</a>
          </li>
        
          <li>
            <a href="/2017/02/17/bootstrap-e5-9f-ba-e7-a1-80-1/">[Bootstrap] - 基础 - 1</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Arron Lai<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>